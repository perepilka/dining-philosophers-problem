# üçΩÔ∏è Dining Philosophers Problem - Python Implementation

–ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å–∏—á–Ω–æ—ó –∑–∞–¥–∞—á—ñ "–û–±—ñ–¥ –§—ñ–ª–æ—Å–æ—Ñ—ñ–≤" –∑ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é deadlock —Ç–∞ –¥–≤–æ—Ö —Ä–æ–±–æ—á–∏—Ö —Ä—ñ—à–µ–Ω—å.

## üìã –ó–º—ñ—Å—Ç

- [–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏](#–æ–ø–∏—Å-–ø—Ä–æ–±–ª–µ–º–∏)
- [–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó](#—Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó)
- [–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](#—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø—É—Å–∫—É](#–ø—Ä–∏–∫–ª–∞–¥–∏-–∑–∞–ø—É—Å–∫—É)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–æ–¥—É)

## üéØ –û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏

**Dining Philosophers Problem** ‚Äî –∫–ª–∞—Å–∏—á–Ω–∞ –∑–∞–¥–∞—á–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—ñ–≤, —Å—Ñ–æ—Ä–º—É–ª—å–æ–≤–∞–Ω–∞ –ï–¥—Å–≥–µ—Ä–æ–º –î–µ–π–∫—Å—Ç—Ä–æ—é —É 1965 —Ä–æ—Ü—ñ.

### –£–º–æ–≤–∞:
- **N —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤** —Å–∏–¥—è—Ç—å –∑–∞ –∫—Ä—É–≥–ª–∏–º —Å—Ç–æ–ª–æ–º
- –ú—ñ–∂ –∫–æ–∂–Ω–∏–º–∏ –¥–≤–æ–º–∞ —Ñ—ñ–ª–æ—Å–æ—Ñ–∞–º–∏ –ª–µ–∂–∏—Ç—å **1 –≤–∏–¥–µ–ª–∫–∞**
- –§—ñ–ª–æ—Å–æ—Ñ –º–æ–∂–µ **–¥—É–º–∞—Ç–∏** –∞–±–æ **—ó—Å—Ç–∏**
- –©–æ–± —ó—Å—Ç–∏, –ø–æ—Ç—Ä—ñ–±–Ω—ñ **–î–í–Ü –≤–∏–¥–µ–ª–∫–∏** (–ª—ñ–≤–∞ —ñ –ø—Ä–∞–≤–∞)
- –í–∏–¥–µ–ª–∫–∞ ‚Äî **—Å–ø—ñ–ª—å–Ω–∏–π —Ä–µ—Å—É—Ä—Å** (mutex/lock)

### –ü—Ä–æ–±–ª–µ–º–∞:
–Ø–∫ –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ –¥—ñ—ó —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ **deadlock** (–≤–∑–∞—î–º–Ω–æ–≥–æ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è)?

## üé≠ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó

### ‚ùå Scenario 1: The Deadlock (–ù–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- –í—Å—ñ —Ñ—ñ–ª–æ—Å–æ—Ñ–∏ –¥—ñ—é—Ç—å **–æ–¥–Ω–∞–∫–æ–≤–æ**
- –ë–µ—Ä—É—Ç—å **–ª—ñ–≤—É –≤–∏–¥–µ–ª–∫—É** ‚Üí —á–µ–∫–∞—é—Ç—å ‚Üí –±–µ—Ä—É—Ç—å **–ø—Ä–∞–≤—É –≤–∏–¥–µ–ª–∫—É**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Philosopher 0: –≤–∑—è–≤ Fork 0 (–ª—ñ–≤—É)
Philosopher 1: –≤–∑—è–≤ Fork 1 (–ª—ñ–≤—É)
Philosopher 2: –≤–∑—è–≤ Fork 2 (–ª—ñ–≤—É)
Philosopher 3: –≤–∑—è–≤ Fork 3 (–ª—ñ–≤—É)
Philosopher 4: –≤–∑—è–≤ Fork 4 (–ª—ñ–≤—É)
... –≤—Å—ñ —á–µ–∫–∞—é—Ç—å –ø—Ä–∞–≤—É –≤–∏–¥–µ–ª–∫—É ‚Üí DEADLOCK! ‚ùå
```

**–ß–æ–º—É –≤–∏–Ω–∏–∫–∞—î deadlock?**
1. **Mutual Exclusion** ‚Äî –≤–∏–¥–µ–ª–∫–∞ –º–æ–∂–µ –±—É—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–≥–æ
2. **Hold and Wait** ‚Äî —Ç—Ä–∏–º–∞—é—Ç—å –æ–¥–Ω—É –≤–∏–¥–µ–ª–∫—É —ñ —á–µ–∫–∞—é—Ç—å —ñ–Ω—à—É
3. **No Preemption** ‚Äî –≤–∏–¥–µ–ª–∫—É –Ω–µ –º–æ–∂–Ω–∞ –∑–∞–±—Ä–∞—Ç–∏ —Å–∏–ª–æ—é
4. **Circular Wait** ‚Äî —É—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∑–∞–º–∫–Ω–µ–Ω–µ –∫–æ–ª–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è

---

### ‚úÖ Scenario 2: Resource Hierarchy (–†—ñ—à–µ–Ω–Ω—è –î–µ–π–∫—Å—Ç—Ä–∏)

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- –§—ñ–ª–æ—Å–æ—Ñ–∏ –∑–∞–≤–∂–¥–∏ –±–µ—Ä—É—Ç—å –≤–∏–¥–µ–ª–∫–∏ —É **–ø–æ—Ä—è–¥–∫—É –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è ID**
- –Ø–∫—â–æ —Å—É—Å—ñ–¥–Ω—ñ –≤–∏–¥–µ–ª–∫–∏ –º–∞—é—Ç—å ID = 1 —ñ 5, —Å–ø–æ—á–∞—Ç–∫—É –±–µ—Ä—É—Ç—å 1, –ø–æ—Ç—ñ–º 5

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Philosopher 0: Forks (0, 1) ‚Üí –±–µ—Ä–µ 0, –ø–æ—Ç—ñ–º 1 ‚úÖ
Philosopher 1: Forks (1, 2) ‚Üí –±–µ—Ä–µ 1, –ø–æ—Ç—ñ–º 2 ‚úÖ
Philosopher 2: Forks (2, 3) ‚Üí –±–µ—Ä–µ 2, –ø–æ—Ç—ñ–º 3 ‚úÖ
Philosopher 3: Forks (3, 4) ‚Üí –±–µ—Ä–µ 3, –ø–æ—Ç—ñ–º 4 ‚úÖ
Philosopher 4: Forks (4, 0) ‚Üí –±–µ—Ä–µ 0, –ø–æ—Ç—ñ–º 4 ‚úÖ (!)
```

**–ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î?**
- –†—É–π–Ω—É—î—Ç—å—Å—è —É–º–æ–≤–∞ **Circular Wait**
- –û—Å—Ç–∞–Ω–Ω—ñ–π —Ñ—ñ–ª–æ—Å–æ—Ñ (4) –±–µ—Ä–µ –≤–∏–¥–µ–ª–∫–∏ —É –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É
- –ù–µ–º–æ–∂–ª–∏–≤–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–∫–Ω–µ–Ω–µ –∫–æ–ª–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è

---

### ‚úÖ Scenario 3: Asymmetric Solution (–ü–∞—Ä–Ω—ñ/–ù–µ–ø–∞—Ä–Ω—ñ)

**–ü–æ–≤–µ–¥—ñ–Ω–∫–∞:**
- **–ü–∞—Ä–Ω—ñ —Ñ—ñ–ª–æ—Å–æ—Ñ–∏** (0, 2, 4...): –õ—ñ–≤–∞ ‚Üí –ü—Ä–∞–≤–∞
- **–ù–µ–ø–∞—Ä–Ω—ñ —Ñ—ñ–ª–æ—Å–æ—Ñ–∏** (1, 3, 5...): –ü—Ä–∞–≤–∞ ‚Üí –õ—ñ–≤–∞

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Philosopher 0 (–ø–∞—Ä–Ω–∏–π):  LEFT ‚Üí RIGHT
Philosopher 1 (–Ω–µ–ø–∞—Ä–Ω–∏–π): RIGHT ‚Üí LEFT
Philosopher 2 (–ø–∞—Ä–Ω–∏–π):  LEFT ‚Üí RIGHT
Philosopher 3 (–Ω–µ–ø–∞—Ä–Ω–∏–π): RIGHT ‚Üí LEFT
Philosopher 4 (–ø–∞—Ä–Ω–∏–π):  LEFT ‚Üí RIGHT
```

**–ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î?**
- **–ü–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä—ñ—ó** ‚Äî –Ω–µ –≤—Å—ñ –¥—ñ—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ
- –†—É–π–Ω—É—î—Ç—å—Å—è —É–º–æ–≤–∞ **Circular Wait**
- –ì–∞—Ä–∞–Ω—Ç—É—î—Ç—å—Å—è, —â–æ —Ö—Ç–æ—Å—å –∑–∞–≤–∂–¥–∏ –∑–º–æ–∂–µ –≤–∑—è—Ç–∏ –æ–±–∏–¥–≤—ñ –≤–∏–¥–µ–ª–∫–∏

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏
- Python 3.6+
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ (threading, time, logging)

### –ó–∞–ø—É—Å–∫

```bash
# Deadlock (–∑–∞–≤–∏—Å–Ω–µ!)
python3 dining_philosophers.py deadlock

# Resource Hierarchy (–ø—Ä–∞—Ü—é—î)
python3 dining_philosophers.py hierarchy

# Asymmetric (–ø—Ä–∞—Ü—é—î)
python3 dining_philosophers.py asymmetric
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Makefile

```bash
# –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –∫–æ–º–∞–Ω–¥–∏
make help

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
make deadlock
make hierarchy
make asymmetric

# –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ –ø—Ä–∞—Ü—é—é—á—ñ —Ä—ñ—à–µ–Ω–Ω—è
make test
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `dining_philosophers.py` —ñ –∑–º—ñ–Ω—ñ—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–∫—É —Ñ–∞–π–ª—É:

```python
# ============================================================================
# CONFIGURATION
# ============================================================================
NUM_PHILOSOPHERS = 5        # –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤ (N)
MODE = "deadlock"           # –°—Ç—Ä–∞—Ç–µ–≥—ñ—è: "deadlock", "hierarchy", "asymmetric"
SIMULATION_TIME = 10        # –ß–∞—Å —Å–∏–º—É–ª—è—Ü—ñ—ó –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å | –ú–æ–∂–ª–∏–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è |
|----------|------|------------------|
| `NUM_PHILOSOPHERS` | –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤ | –ë—É–¥—å-—è–∫–µ —Ü—ñ–ª–µ —á–∏—Å–ª–æ ‚â• 2 |
| `MODE` | –°—Ç—Ä–∞—Ç–µ–≥—ñ—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º | `"deadlock"`, `"hierarchy"`, `"asymmetric"` |
| `SIMULATION_TIME` | –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å —Å–∏–º—É–ª—è—Ü—ñ—ó | –°–µ–∫—É–Ω–¥–∏ (int) |

## üìä –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø—É—Å–∫—É

### –ü—Ä–∏–∫–ª–∞–¥ 1: Deadlock –∑ 3 —Ñ—ñ–ª–æ—Å–æ—Ñ–∞–º–∏

```python
NUM_PHILOSOPHERS = 3
MODE = "deadlock"
SIMULATION_TIME = 5
```

```bash
python3 dining_philosophers.py deadlock
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üç¥ Created 3 forks
üßë Created 3 philosophers
üöÄ Starting simulation...

üßë Philosopher 0: ‚¨ÖÔ∏è  Trying to pick up LEFT fork (Fork 0)
üßë Philosopher 0: ‚úã Picked up LEFT fork (Fork 0)
üßë Philosopher 1: ‚¨ÖÔ∏è  Trying to pick up LEFT fork (Fork 1)
üßë Philosopher 1: ‚úã Picked up LEFT fork (Fork 1)
üßë Philosopher 2: ‚¨ÖÔ∏è  Trying to pick up LEFT fork (Fork 2)
üßë Philosopher 2: ‚úã Picked up LEFT fork (Fork 2)

... –≤—Å—ñ —á–µ–∫–∞—é—Ç—å –ø—Ä–∞–≤—É –≤–∏–¥–µ–ª–∫—É ...

‚ùå DEADLOCK DETECTED! Some philosophers are still waiting for forks.
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: Hierarchy –∑ 5 —Ñ—ñ–ª–æ—Å–æ—Ñ–∞–º–∏

```bash
python3 dining_philosophers.py hierarchy
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üìä SIMULATION RESULTS
üçΩÔ∏è  Meals eaten per philosopher:
  Philosopher 0: 12 meals - ‚úÖ Finished
  Philosopher 1: 11 meals - ‚úÖ Finished
  Philosopher 2: 13 meals - ‚úÖ Finished
  Philosopher 3: 12 meals - ‚úÖ Finished
  Philosopher 4: 10 meals - ‚úÖ Finished

‚úÖ All philosophers finished successfully (No deadlock).
```

### –ü—Ä–∏–∫–ª–∞–¥ 3: Asymmetric –∑ 7 —Ñ—ñ–ª–æ—Å–æ—Ñ–∞–º–∏

```python
NUM_PHILOSOPHERS = 7
MODE = "asymmetric"
SIMULATION_TIME = 15
```

```bash
python3 dining_philosophers.py asymmetric
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å—ñ —Ñ—ñ–ª–æ—Å–æ—Ñ–∏ —É—Å–ø—ñ—à–Ω–æ —ó–¥—è—Ç—å –±–µ–∑ deadlock.

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É

```
dining_philosophers.py
‚îú‚îÄ‚îÄ Configuration (NUM_PHILOSOPHERS, MODE, SIMULATION_TIME)
‚îú‚îÄ‚îÄ Strategy Enum
‚îú‚îÄ‚îÄ Fork Class (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –≤–∏–¥–µ–ª–∫—É —è–∫ mutex)
‚îú‚îÄ‚îÄ Philosopher Class (–ø–æ—Ç—ñ–∫ –∑ —Ç—Ä—å–æ–º–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è–º–∏)
‚îÇ   ‚îú‚îÄ‚îÄ deadlock_strategy()
‚îÇ   ‚îú‚îÄ‚îÄ hierarchy_strategy()
‚îÇ   ‚îî‚îÄ‚îÄ asymmetric_strategy()
‚îú‚îÄ‚îÄ DiningTable Class (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å–∏–º—É–ª—è—Ü—ñ—ó)
‚îÇ   ‚îú‚îÄ‚îÄ setup()
‚îÇ   ‚îú‚îÄ‚îÄ start()
‚îÇ   ‚îî‚îÄ‚îÄ report_results()
‚îî‚îÄ‚îÄ main() (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É)
```

### –ö–ª–∞—Å–∏:

#### `Fork`
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –≤–∏–¥–µ–ª–∫—É —è–∫ —Å–ø—ñ–ª—å–Ω–∏–π —Ä–µ—Å—É—Ä—Å
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `threading.Lock()` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

#### `Philosopher`
- –ù–∞—Å–ª—ñ–¥—É—î `threading.Thread`
- –ú–∞—î —Ç—Ä–∏ –º–µ—Ç–æ–¥–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π:
  - `deadlock_strategy()` ‚Äî –Ω–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
  - `hierarchy_strategy()` ‚Äî —Ä—ñ—à–µ–Ω–Ω—è –î–µ–π–∫—Å—Ç—Ä–∏
  - `asymmetric_strategy()` ‚Äî –ø–∞—Ä–Ω—ñ/–Ω–µ–ø–∞—Ä–Ω—ñ

#### `DiningTable`
- –°—Ç–≤–æ—Ä—é—î –≤–∏–¥–µ–ª–∫–∏ —Ç–∞ —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤
- –ó–∞–ø—É—Å–∫–∞—î —Å–∏–º—É–ª—è—Ü—ñ—é
- –í–∏–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## üìù –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

–ö–æ–∂–Ω–∞ –¥—ñ—è –ª–æ–≥—É—î—Ç—å—Å—è –∑ –ø–æ–∑–Ω–∞—á–∫–∞–º–∏:

| –°–∏–º–≤–æ–ª | –ó–Ω–∞—á–µ–Ω–Ω—è |
|--------|----------|
| üßë | –§—ñ–ª–æ—Å–æ—Ñ |
| üç¥ | –í–∏–¥–µ–ª–∫–∞ |
| üí≠ | –î—É–º–∞—î |
| üçù | –á—Å—Ç—å |
| ‚¨ÖÔ∏è | –ë–µ—Ä–µ –ª—ñ–≤—É –≤–∏–¥–µ–ª–∫—É |
| ‚û°Ô∏è | –ë–µ—Ä–µ –ø—Ä–∞–≤—É –≤–∏–¥–µ–ª–∫—É |
| ‚úã | –í–∑—è–≤ –≤–∏–¥–µ–ª–∫—É |
| üîΩ | –ü–æ–∫–ª–∞–≤ –≤–∏–¥–µ–ª–∫—É |
| ‚úÖ | –£—Å–ø—ñ—Ö |
| ‚ùå | Deadlock |

**–ü—Ä–∏–∫–ª–∞–¥ –ª–æ–≥—É:**
```
06:30:15.123 [Phil-0        ] üßë Philosopher 0: üí≠ Thinking...
06:30:15.224 [Phil-0        ] üßë Philosopher 0: ‚¨ÖÔ∏è  Trying to pick up LEFT fork (Fork 0)
06:30:15.225 [Phil-0        ] üßë Philosopher 0: ‚úã Picked up LEFT fork (Fork 0)
06:30:15.725 [Phil-0        ] üßë Philosopher 0: ‚û°Ô∏è  Trying to pick up RIGHT fork (Fork 1)
06:30:15.726 [Phil-0        ] üßë Philosopher 0: ‚úã Picked up RIGHT fork (Fork 1)
06:30:15.727 [Phil-0        ] üßë Philosopher 0: üçù EATING
```

## üéì –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è

### –î–ª—è –∑–≤—ñ—Ç—É / –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó:

1. **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è deadlock:**
   ```bash
   python3 dining_philosophers.py deadlock
   ```
   ‚Üí –ü–æ–∫–∞–∂—ñ—Ç—å, —â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–∏—Å–∞—î

2. **–†—ñ—à–µ–Ω–Ω—è 1 (Hierarchy):**
   ```bash
   python3 dining_philosophers.py hierarchy
   ```
   ‚Üí –ü–æ—è—Å–Ω—ñ—Ç—å, —è–∫ –ø–æ—Ä—è–¥–æ–∫ —Ä–µ—Å—É—Ä—Å—ñ–≤ –∑–∞–ø–æ–±—ñ–≥–∞—î deadlock

3. **–†—ñ—à–µ–Ω–Ω—è 2 (Asymmetric):**
   ```bash
   python3 dining_philosophers.py asymmetric
   ```
   ‚Üí –ü–æ—è—Å–Ω—ñ—Ç—å, —è–∫ –ø–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏–º–µ—Ç—Ä—ñ—ó –¥–æ–ø–æ–º–∞–≥–∞—î

### –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏:

```python
# –°–ø—Ä–æ–±—É–π—Ç–µ —Ä—ñ–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ–≤
NUM_PHILOSOPHERS = 3   # –ú—ñ–Ω—ñ–º—É–º
NUM_PHILOSOPHERS = 10  # –ë—ñ–ª—å—à–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó
NUM_PHILOSOPHERS = 100 # –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å

# –ó–º—ñ–Ω—ñ—Ç—å —á–∞—Å —Å–∏–º—É–ª—è—Ü—ñ—ó
SIMULATION_TIME = 5    # –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç
SIMULATION_TIME = 60   # –î–æ–≤–≥–∞ —Å–∏–º—É–ª—è—Ü—ñ—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

## üî¨ –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### Deadlock —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è:
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–∞–≤–∏—Å–∞—î
- ‚ùå –§—ñ–ª–æ—Å–æ—Ñ–∏ —ó–¥—è—Ç—å 0 —Ä–∞–∑—ñ–≤
- üìä –ü–æ–∫–∞–∑—É—î –≤—Å—ñ —É–º–æ–≤–∏ deadlock

### Hierarchy —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è:
- ‚úÖ –ó–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î
- ‚úÖ –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª (–≤—Å—ñ —ó–¥—è—Ç—å –ø—Ä–∏–±–ª–∏–∑–Ω–æ –æ–¥–Ω–∞–∫–æ–≤–æ)
- üìä –í–∏—Å–æ–∫–∏–π throughput

### Asymmetric —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è:
- ‚úÖ –ó–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î
- ‚úÖ –ü—Ä–æ—Å—Ç—ñ—à–∞ –ª–æ–≥—ñ–∫–∞ –Ω—ñ–∂ hierarchy
- üìä –ú–æ–∂–µ –±—É—Ç–∏ –º–µ–Ω—à —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—é (–ø–∞—Ä–Ω—ñ vs –Ω–µ–ø–∞—Ä–Ω—ñ)

## üêõ Debugging

–©–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à—ñ –ª–æ–≥–∏, –∑–º—ñ–Ω—ñ—Ç—å —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è:

```python
logging.basicConfig(
    level=logging.DEBUG,  # –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ DEBUG
    # ...
)
```

## üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –¥–æ–≤—ñ–¥–∫–∞

### –£–º–æ–≤–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è Deadlock (Coffman conditions):

1. **Mutual Exclusion** ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω–∏–π
2. **Hold and Wait** ‚Äî –ø—Ä–æ—Ü–µ—Å —Ç—Ä–∏–º–∞—î —Ä–µ—Å—É—Ä—Å —ñ —á–µ–∫–∞—î —ñ–Ω—à–∏–π
3. **No Preemption** ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ –º–æ–∂–Ω–∞ –∑–∞–±—Ä–∞—Ç–∏ –ø—Ä–∏–º—É—Å–æ–≤–æ
4. **Circular Wait** ‚Äî —ñ—Å–Ω—É—î –∑–∞–º–∫–Ω–µ–Ω–µ –∫–æ–ª–æ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è

**–©–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ deadlock, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–æ—Ä—É—à–∏—Ç–∏ –û–î–ù–£ —É–º–æ–≤—É!**

- **Hierarchy** ‚Üí –ø–æ—Ä—É—à—É—î Circular Wait
- **Asymmetric** ‚Üí –ø–æ—Ä—É—à—É—î Circular Wait

## üìñ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

- [Wikipedia: Dining Philosophers Problem](https://en.wikipedia.org/wiki/Dining_philosophers_problem)
- Edsger W. Dijkstra, "Hierarchical ordering of sequential processes" (1971)
- Andrew S. Tanenbaum, "Modern Operating Systems"

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –∫–ª–∞—Å–∏—á–Ω–æ—ó –∑–∞–¥–∞—á—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—ñ–≤.

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–í—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö —Ü—ñ–ª–µ–π.

---

**–ë–∞–∂–∞—é —É—Å–ø—ñ—Ö—ñ–≤ —É –≤–∏–≤—á–µ–Ω–Ω—ñ concurrent programming! üöÄ**
